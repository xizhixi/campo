(function(){"use strict";var a=function(b){return a.init(b)};a.settings={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:200,transitionSpeed:.6,easing:"ease",maxPosition:240,minPosition:-0,tapToClose:!0,touchToDrag:!0,clickToDrag:!0,slideIntent:25,minDragDistance:5},a.cache={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},a.init=function(b){b.element&&(a.utils.extend(a.settings,b),a.cache.vendor=a.utils.vendor(),a.cache.canTransform=a.utils.canTransform(),a.action.drag.listen())},this.Snap=a}).call(this,window,document),function(a,b,c){var d={},e=c.settings,f=c.cache,g={hasTouch:"ontouchstart"in b.documentElement||a.navigator.msPointerEnabled,eventType:function(a){var b={down:g.hasTouch?"touchstart":e.clickToDrag?"mousedown":"",move:g.hasTouch?"touchmove":e.clickToDrag?"mousemove":"",up:g.hasTouch?"touchend":e.clickToDrag?"mouseup":"",out:g.hasTouch?"touchcancel":e.clickToDrag?"mouseout":""};return b[a]},page:function(a,b){return g.hasTouch&&b.touches.length&&b.touches[0]?b.touches[0]["page"+a]:b["page"+a]},klass:{has:function(a,b){return-1!==a.className.indexOf(b)},add:function(a,b){!g.klass.has(a,b)&&e.addBodyClasses&&(a.className+=" "+b)},remove:function(a,b){g.klass.has(a,b)&&e.addBodyClasses&&(a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(a){return"function"==typeof d[a]?d[a].call():void 0},vendor:function(){var a,c=b.createElement("div"),d="webkit Moz O ms".split(" ");for(a in d)if("undefined"!=typeof c.style[d[a]+"Transition"])return d[a]},transitionCallback:function(){return"Moz"===f.vendor||"ms"===f.vendor?"transitionend":f.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof e.element.style[f.vendor+"Transform"]},extend:function(a,b){var c;for(c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},g.extend(a[c],b[c])):a[c]=b[c];return a},angleOfDrag:function(a,b){var c,d;return d=Math.atan2(-(f.startDragY-b),f.startDragX-a),0>d&&(d+=2*Math.PI),c=Math.floor(d*(180/Math.PI)-180),0>c&&c>-180&&(c=360-Math.abs(c)),Math.abs(c)},events:{addEvent:function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0},removeEvent:function(a,b,c){return a.addEventListener?a.removeEventListener(b,c,!1):a.attachEvent?a.detachEvent("on"+b,c):void 0},prevent:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}},parentUntil:function(a,b){for(var c="string"==typeof b;a.parentNode;){if(c&&a.getAttribute&&a.getAttribute(b))return a;if(!c&&a===b)return a;a=a.parentNode}return null}};c.utils=g,c.eventList=d}.call(this,window,document,Snap),function(a,b,c){var d=c.cache,e=c.utils,f=c.settings,g={translate:{get:{matrix:function(b){if(d.canTransform){var c=a.getComputedStyle(f.element)[d.vendor+"Transform"].match(/\((.*)\)/),e=8;return c?(c=c[1].split(","),16===c.length&&(b+=e),parseInt(c[b],10)):0}return parseInt(f.element.style.left,10)}},easeCallback:function(){f.element.style[d.vendor+"Transition"]="",d.translation=g.translate.get.matrix(4),d.easing=!1,clearInterval(d.animatingInterval),0===d.easingTo&&(e.klass.remove(b.body,"snapjs-right"),e.klass.remove(b.body,"snapjs-left")),e.dispatchEvent("animated"),e.events.removeEvent(f.element,e.transitionCallback(),g.translate.easeCallback)},easeTo:function(a){d.canTransform?(d.easing=!0,d.easingTo=a,f.element.style[d.vendor+"Transition"]="all "+f.transitionSpeed+"s "+f.easing,d.animatingInterval=setInterval(function(){e.dispatchEvent("animating")},1),e.events.addEvent(f.element,e.transitionCallback(),g.translate.easeCallback),g.translate.x(a)):(d.translation=a,g.translate.x(a)),0===a&&(f.element.style[d.vendor+"Transform"]="")},x:function(c){if(!("left"===f.disable&&c>0||"right"===f.disable&&0>c))if(f.hyperextensible||(c===f.maxPosition||c>f.maxPosition?c=f.maxPosition:(c===f.minPosition||c<f.minPosition)&&(c=f.minPosition)),c=parseInt(c,10),isNaN(c)&&(c=0),d.canTransform){var e="translate3d("+c+"px, 0,0)";f.element.style[d.vendor+"Transform"]=e}else f.element.style.width=(a.innerWidth||b.documentElement.clientWidth)+"px",f.element.style.left=c+"px",f.element.style.right=""}},drag:{listen:function(){d.translation=0,d.easing=!1,e.events.addEvent(f.element,e.eventType("down"),g.drag.startDrag),e.events.addEvent(f.element,e.eventType("move"),g.drag.dragging),e.events.addEvent(f.element,e.eventType("up"),g.drag.endDrag)},stopListening:function(){e.events.removeEvent(f.element,e.eventType("down"),g.drag.startDrag),e.events.removeEvent(f.element,e.eventType("move"),g.drag.dragging),e.events.removeEvent(f.element,e.eventType("up"),g.drag.endDrag)},startDrag:function(a){var b=a.target?a.target:a.srcElement,c=e.parentUntil(b,"data-snap-ignore");if(c)return void e.dispatchEvent("ignore");if(f.dragger){var g=e.parentUntil(b,f.dragger);if(!g&&d.translation!==f.minPosition&&d.translation!==f.maxPosition)return}e.dispatchEvent("start"),f.element.style[d.vendor+"Transition"]="",d.isDragging=!0,d.hasIntent=null,d.intentChecked=!1,d.startDragX=e.page("X",a),d.startDragY=e.page("Y",a),d.dragWatchers={current:0,last:0,hold:0,state:""},d.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(a){if(d.isDragging&&f.touchToDrag){var c,h=e.page("X",a),i=e.page("Y",a),j=d.translation,k=g.translate.get.matrix(4),l=h-d.startDragX,m=k>0,n=l;if(d.intentChecked&&!d.hasIntent)return;if(f.addBodyClasses&&(k>0?(e.klass.add(b.body,"snapjs-left"),e.klass.remove(b.body,"snapjs-right")):0>k&&(e.klass.add(b.body,"snapjs-right"),e.klass.remove(b.body,"snapjs-left"))),d.hasIntent===!1||null===d.hasIntent){var o=e.angleOfDrag(h,i),p=o>=0&&o<=f.slideIntent||360>=o&&o>360-f.slideIntent,q=o>=180&&o<=180+f.slideIntent||180>=o&&o>=180-f.slideIntent;d.hasIntent=q||p?!0:!1,d.intentChecked=!0}if(f.minDragDistance>=Math.abs(h-d.startDragX)||d.hasIntent===!1)return;e.events.prevent(a),e.dispatchEvent("drag"),d.dragWatchers.current=h,d.dragWatchers.last>h?("left"!==d.dragWatchers.state&&(d.dragWatchers.state="left",d.dragWatchers.hold=h),d.dragWatchers.last=h):d.dragWatchers.last<h&&("right"!==d.dragWatchers.state&&(d.dragWatchers.state="right",d.dragWatchers.hold=h),d.dragWatchers.last=h),m?(f.maxPosition<k&&(c=(k-f.maxPosition)*f.resistance,n=l-c),d.simpleStates={opening:"left",towards:d.dragWatchers.state,hyperExtending:f.maxPosition<k,halfway:k>f.maxPosition/2,flick:Math.abs(d.dragWatchers.current-d.dragWatchers.hold)>f.flickThreshold,translation:{absolute:k,relative:l,sinceDirectionChange:d.dragWatchers.current-d.dragWatchers.hold,percentage:k/f.maxPosition*100}}):(f.minPosition>k&&(c=(k-f.minPosition)*f.resistance,n=l-c),d.simpleStates={opening:"right",towards:d.dragWatchers.state,hyperExtending:f.minPosition>k,halfway:k<f.minPosition/2,flick:Math.abs(d.dragWatchers.current-d.dragWatchers.hold)>f.flickThreshold,translation:{absolute:k,relative:l,sinceDirectionChange:d.dragWatchers.current-d.dragWatchers.hold,percentage:k/f.minPosition*100}}),g.translate.x(n+j)}},endDrag:function(a){if(d.isDragging){e.dispatchEvent("end");var b=g.translate.get.matrix(4);if(0===d.dragWatchers.current&&0!==b&&f.tapToClose)return e.dispatchEvent("close"),e.events.prevent(a),g.translate.easeTo(0),d.isDragging=!1,void(d.startDragX=0);"left"===d.simpleStates.opening?d.simpleStates.halfway||d.simpleStates.hyperExtending||d.simpleStates.flick?d.simpleStates.flick&&"left"===d.simpleStates.towards?g.translate.easeTo(0):(d.simpleStates.flick&&"right"===d.simpleStates.towards||d.simpleStates.halfway||d.simpleStates.hyperExtending)&&g.translate.easeTo(f.maxPosition):g.translate.easeTo(0):"right"===d.simpleStates.opening&&(d.simpleStates.halfway||d.simpleStates.hyperExtending||d.simpleStates.flick?d.simpleStates.flick&&"right"===d.simpleStates.towards?g.translate.easeTo(0):(d.simpleStates.flick&&"left"===d.simpleStates.towards||d.simpleStates.halfway||d.simpleStates.hyperExtending)&&g.translate.easeTo(f.minPosition):g.translate.easeTo(0)),d.isDragging=!1,d.startDragX=e.page("X",a)}}}};c.action=g}.call(this,window,document,Snap),function(a,b,c){var d=c.utils,e=c.cache,f=c.action,g=c.settings,h=c.eventList;c.prototype.open=function(a){d.dispatchEvent("open"),d.klass.remove(b.body,"snapjs-expand-left"),d.klass.remove(b.body,"snapjs-expand-right"),"left"===a?(e.simpleStates.opening="left",e.simpleStates.towards="right",d.klass.add(b.body,"snapjs-left"),d.klass.remove(b.body,"snapjs-right"),f.translate.easeTo(g.maxPosition)):"right"===a&&(e.simpleStates.opening="right",e.simpleStates.towards="left",d.klass.remove(b.body,"snapjs-left"),d.klass.add(b.body,"snapjs-right"),f.translate.easeTo(g.minPosition))},c.prototype.close=function(){d.dispatchEvent("close"),f.translate.easeTo(0)},c.prototype.expand=function(c){var e=a.innerWidth||b.documentElement.clientWidth;"left"===c?(d.dispatchEvent("expandLeft"),d.klass.add(b.body,"snapjs-expand-left"),d.klass.remove(b.body,"snapjs-expand-right")):(d.dispatchEvent("expandRight"),d.klass.add(b.body,"snapjs-expand-right"),d.klass.remove(b.body,"snapjs-expand-left"),e*=-0.92),f.translate.easeTo(e)},c.prototype.on=function(a,b){return h[a]=b,this},c.prototype.off=function(a){h[a]&&(h[a]=!1)},c.prototype.enable=function(){d.dispatchEvent("enable"),f.drag.listen()},c.prototype.disable=function(){d.dispatchEvent("disable"),f.drag.stopListening()},c.prototype.settings=function(a){d.deepExtend(g,a)},c.prototype.state=function(){var a,b=f.translate.get.matrix(4);return a=b===g.maxPosition?"left":b===g.minPosition?"right":"closed",{state:a,info:e.simpleStates}}}.call(this,window,document,Snap);
